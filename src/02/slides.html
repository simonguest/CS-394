<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-597958c53c93a607afca12fd375c57ed.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.26">

  <title>CS-394 – Week 2: Exploring Hosted LLMs</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-eeafb82a00776dbd0312b01cd21cfa25.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <meta name="mermaid-theme" content="neutral">
  <script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
  <script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
  <link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Week 2: Exploring Hosted LLMs</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="recap-of-last-weeks-lecture" class="slide level2">
<h2>Recap of Last Week’s Lecture</h2>
<ul>
<li class="fragment">Explored the history of vector embeddings and tokenization</li>
<li class="fragment">Understood the transformer architecture at a high level</li>
<li class="fragment">Used our first transformer to translate language</li>
<li class="fragment">Covered a brief history of early generative transformers</li>
<li class="fragment">Setup and used Colab, and became familiar with the basics of notebooks and Python</li>
</ul>
</section>
<section id="lesson-objectives" class="slide level2">
<h2>Lesson Objectives</h2>
<ul>
<li class="fragment">Understand the evolution and licensing of models from GPT-2 through to modern day</li>
<li class="fragment">Understand instruction-tuned models, how they work, and how to configure</li>
<li class="fragment">Setup and use OpenRouter for accessing hosted models</li>
<li class="fragment">Understand the OpenAI API specification, the request/response payload, parameters, streaming, and structured output</li>
<li class="fragment">Create and share a chatbot using a Gradio-based UI</li>
</ul>
</section>
<section>
<section id="from-gpt-2-to-gpt-3.5" class="title-slide slide level1 center">
<h1>From GPT-2 to GPT-3.5</h1>

</section>
<section id="from-gpt-2-to-gpt-3.5-1" class="slide level2">
<h2>From GPT-2 to GPT-3.5</h2>
<div class="cell" data-reveal="true" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">timeline
    Feb 2019 : OpenAI releases GPT-2
             : 1.5B parameters
             : Initially withheld full model due to concerns about misuse
             : Demonstrates impressive text generation capabilities with minimal fine-tuning

    May 2020 : OpenAI releases GPT-3
             : 175B parameters
             : Demonstrates strong few-shot learning capabilities
             : Marks a significant leap in model capabilities and scale

    June 2020 : GPT-3 available through OpenAI API
              : Still a completion model, not instruction-tuned

    2021 : InstructGPT Development
          : Built on GPT-3 with RLHF fine-tuning
          : Trained to follow instructions and understand user intent
          : Key innovation enabling ChatGPT
    
    Jan 2021 : Anthropic Founded
             : Founded by Dario &amp; Daniela Amodei with ~7 senior OpenAI employees
             : Dario led GPT-2/3 development and co-invented RLHF

    Nov 2022 : ChatGPT Launch
              : Built on GPT-3.5 using RLHF
              : 1M+ users in 5 days
              : Sparked widespread interest in generative AI
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="completion-vs.-instruction-tuned" class="slide level2">
<h2>Completion vs.&nbsp;Instruction-Tuned</h2>
<ul>
<li class="fragment">Completion Model just predicts the next token
<ul>
<li class="fragment">Input prompt: <code>Mary had a little</code></li>
<li class="fragment">Max total tokens: <code>50</code></li>
<li class="fragment">Temperature: <code>0 - 1.0</code></li>
<li class="fragment">top_k: consider only the top k tokens in the response</li>
<li class="fragment">top_p: Nucleus sampling (probability cut off - 0 and 1.0)</li>
</ul></li>
<li class="fragment">Output
<ul>
<li class="fragment"><code>Mary had a little lamb, its fleece was white as snow...</code> (up to max tokens)</li>
</ul></li>
</ul>
</section>
<section id="completion-vs.-instruction-tuned-1" class="slide level2">
<h2>Completion vs.&nbsp;Instruction-Tuned</h2>
<ul>
<li class="fragment">You can’t really converse with it</li>
<li class="fragment"><code>What should I do on my upcoming trip to Paris?</code> (max tokens = 75)</li>
<li class="fragment"><code>What should I do on my upcoming trip to Paris? Please provide a detailed plan of action to help me plan my trip to Paris. 1. Research the best time to travel to Paris:</code></li>
</ul>
</section>
<section id="instruction-tuned-models" class="slide level2">
<h2>Instruction-Tuned Models</h2>
<ul>
<li class="fragment">Supervised Fine-Tuning
<ul>
<li class="fragment">Large datasets of questions/answers, tasks/completions, demonstrating helpful assistant behavior</li>
</ul></li>
<li class="fragment">RLHF (Reinforcement Learning from Human Feedback)
<ul>
<li class="fragment">Human raters rank different model responses, training a reward model</li>
</ul></li>
<li class="fragment">Chat Templates
<ul>
<li class="fragment">Structured format to distinguish speakers in a conversation: Typically <strong>system</strong>, <strong>user</strong>, and <strong>assistant</strong></li>
</ul></li>
</ul>
</section>
<section id="system-user-assistant" class="slide level2">
<h2>System, User, Assistant</h2>
<ul>
<li class="fragment"><strong>System</strong> prompt sets the intention for the model, guiding the output
<ul>
<li class="fragment">“You are a helpful assistant”</li>
<li class="fragment">“You help students with their math homework”</li>
<li class="fragment">“You help travelers make plans for their trips”</li>
<li class="fragment">Has to come first in the conversation</li>
<li class="fragment">Only one system prompt</li>
<li class="fragment">Optional for some models</li>
</ul></li>
</ul>
</section>
<section id="system-user-assistant-1" class="slide level2">
<h2>System, User, Assistant</h2>
<ul>
<li class="fragment"><strong>User</strong> prompt is the message (request) from the user
<ul>
<li class="fragment">“How many ’r’s in Strawberry?”</li>
<li class="fragment">“What is linear algebra?”</li>
<li class="fragment">“What should I do on my upcoming trip to Paris?”</li>
</ul></li>
<li class="fragment"><strong>Assistant</strong> prompt is the message (reply) from the model
<ul>
<li class="fragment">“There are three r’s in Strawberry”</li>
<li class="fragment">“Linear algebra is the branch of mathematics that studies vectors, etc.”</li>
<li class="fragment">“Here are some suggestions for your upcoming trip to Paris: 1. Explore the Louvre Museum: etc.”</li>
</ul></li>
</ul>
</section>
<section id="whats-a-chat-template" class="slide level2">
<h2>What’s a Chat Template?</h2>
<ul>
<li class="fragment">The format used to train instructional models on conversations involving system, user, and assistant prompts.</li>
<li class="fragment">Each model family uses a different format (there is no universal standard)</li>
<li class="fragment">Wrong format will likely generate nonsense/garbage</li>
</ul>
</section>
<section id="chatml-gpt-3.5-and-other-models" class="slide level2">
<h2>ChatML (GPT-3.5 and other models)</h2>
<pre><code>&lt;|im_start|&gt;system
You help travelers make plans for their trips&lt;|im_end|&gt;
&lt;|im_start|&gt;user
Hello&lt;|im_end|&gt;
&lt;|im_start|&gt;assistant
Hi there! How can I help you?&lt;|im_end|&gt;
&lt;|im_start|&gt;user
What should I do on my upcoming trip to Paris?&lt;|im_end|&gt;
&lt;|im_start|&gt;assistant
</code></pre>
</section>
<section id="chat-templates-in-practice" class="slide level2">
<h2>Chat Templates in Practice</h2>
<div class="quarto-embed-nb-cell" data-notebook="/home/runner/work/CS-394/CS-394/src/02/notebooks/instruction-tuned.ipynb" data-notebook-title="Base Model vs. Instruction-Tuned Model" data-notebook-cellid="chat-template">
<div id="chat-template" class="cell" data-execution_count="46">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a></a><span class="co"># @title Qwen's Chat Template</span></span>
<span id="cb2-2"><a></a></span>
<span id="cb2-3"><a></a>messages <span class="op">=</span> [</span>
<span id="cb2-4"><a></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You help travelers make plans for their trips"</span>},</span>
<span id="cb2-5"><a></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: <span class="st">"Hello"</span>},</span>
<span id="cb2-6"><a></a>    {<span class="st">"role"</span>: <span class="st">"assistant"</span>, <span class="st">"content"</span>: <span class="st">"Hi there!"</span>},</span>
<span id="cb2-7"><a></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: <span class="st">"What should I do on my upcoming trip to Paris?"</span>}</span>
<span id="cb2-8"><a></a>]</span>
<span id="cb2-9"><a></a></span>
<span id="cb2-10"><a></a>instruct_tokenizer.apply_chat_template(</span>
<span id="cb2-11"><a></a>    messages, </span>
<span id="cb2-12"><a></a>    tokenize<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb2-13"><a></a>    add_generation_prompt<span class="op">=</span><span class="va">True</span>  <span class="co"># Adds the assistant prompt</span></span>
<span id="cb2-14"><a></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>'&lt;|im_start|&gt;system\nYou help travelers make plans for their trips&lt;|im_end|&gt;\n&lt;|im_start|&gt;user\nHello&lt;|im_end|&gt;\n&lt;|im_start|&gt;assistant\nHi there!&lt;|im_end|&gt;\n&lt;|im_start|&gt;user\nWhat should I do on my upcoming trip to Paris?&lt;|im_end|&gt;\n&lt;|im_start|&gt;assistant\n'</code></pre>
</div>
</div>
</div>
</section>
<section id="putting-this-together" class="slide level2">
<h2>Putting This Together</h2>
<div class="quarto-embed-nb-cell" data-notebook="/home/runner/work/CS-394/CS-394/src/02/notebooks/instruction-tuned.ipynb" data-notebook-title="Base Model vs. Instruction-Tuned Model" data-notebook-cellid="base-model">
<div id="base-model" class="cell" data-execution_count="42">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a></a><span class="co"># @title Base (Completion) Model Output</span></span>
<span id="cb4-2"><a></a></span>
<span id="cb4-3"><a></a>base_inputs <span class="op">=</span> base_tokenizer(<span class="st">"What should I do on my upcoming trip to Paris?"</span>, return_tensors<span class="op">=</span><span class="st">"pt"</span>)</span>
<span id="cb4-4"><a></a>base_outputs <span class="op">=</span> base_model.generate(</span>
<span id="cb4-5"><a></a>    <span class="op">**</span>base_inputs,</span>
<span id="cb4-6"><a></a>    max_new_tokens<span class="op">=</span><span class="dv">150</span>,</span>
<span id="cb4-7"><a></a>    temperature<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb4-8"><a></a>    do_sample<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb4-9"><a></a>    pad_token_id<span class="op">=</span>base_tokenizer.eos_token_id</span>
<span id="cb4-10"><a></a>)</span>
<span id="cb4-11"><a></a>base_response <span class="op">=</span> base_tokenizer.decode(base_outputs[<span class="dv">0</span>], skip_special_tokens<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb4-12"><a></a><span class="bu">print</span>(base_response)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>What should I do on my upcoming trip to Paris? I think it would be better if you could give more specific information about where you plan to go and when you plan to arrive. Also, can you suggest any specific tips or recommendations for traveling to Paris other than walking around the city?

I'm sorry, but as an AI language model, I don't have any specific information about your upcoming trip to Paris. However, I can suggest some general tips and recommendations for traveling to Paris other than walking around the city:

1. Plan your itinerary ahead of time to avoid getting lost or getting in over your head.
2. Book your flights or accommodations in advance to avoid being stuck in traffic or waiting for a delayed flight.
3. Purchase a travel insurance policy to protect your belongings and reduce the risk of</code></pre>
</div>
</div>
</div>
</section>
<section id="putting-this-together-1" class="slide level2">
<h2>Putting This Together</h2>
<div class="quarto-embed-nb-cell" data-notebook="/home/runner/work/CS-394/CS-394/src/02/notebooks/instruction-tuned.ipynb" data-notebook-title="Base Model vs. Instruction-Tuned Model" data-notebook-cellid="it-model">
<div id="it-model" class="cell" data-execution_count="43">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a></a><span class="co"># @title Instruction-Tuned Model Output</span></span>
<span id="cb6-2"><a></a></span>
<span id="cb6-3"><a></a>messages <span class="op">=</span> [</span>
<span id="cb6-4"><a></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You help travelers make plans for their trips."</span>},</span>
<span id="cb6-5"><a></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: <span class="st">"Hello"</span>},</span>
<span id="cb6-6"><a></a>    {<span class="st">"role"</span>: <span class="st">"assistant"</span>, <span class="st">"content"</span>: <span class="st">"Hi there!"</span>},</span>
<span id="cb6-7"><a></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: <span class="st">"What should I do on my upcoming trip to Paris?"</span>}</span>
<span id="cb6-8"><a></a>]</span>
<span id="cb6-9"><a></a>instruct_text <span class="op">=</span> instruct_tokenizer.apply_chat_template(</span>
<span id="cb6-10"><a></a>    messages, tokenize<span class="op">=</span><span class="va">False</span>, add_generation_prompt<span class="op">=</span><span class="va">True</span></span>
<span id="cb6-11"><a></a>)</span>
<span id="cb6-12"><a></a>instruct_inputs <span class="op">=</span> instruct_tokenizer(instruct_text, return_tensors<span class="op">=</span><span class="st">"pt"</span>)</span>
<span id="cb6-13"><a></a>instruct_outputs <span class="op">=</span> instruct_model.generate(</span>
<span id="cb6-14"><a></a>    <span class="op">**</span>instruct_inputs,</span>
<span id="cb6-15"><a></a>    max_new_tokens<span class="op">=</span><span class="dv">150</span>,</span>
<span id="cb6-16"><a></a>    temperature<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb6-17"><a></a>    do_sample<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb6-18"><a></a>    pad_token_id<span class="op">=</span>instruct_tokenizer.eos_token_id,</span>
<span id="cb6-19"><a></a>)</span>
<span id="cb6-20"><a></a>instruct_response <span class="op">=</span> instruct_tokenizer.decode(</span>
<span id="cb6-21"><a></a>    instruct_outputs[<span class="dv">0</span>], skip_special_tokens<span class="op">=</span><span class="va">True</span></span>
<span id="cb6-22"><a></a>)</span>
<span id="cb6-23"><a></a><span class="bu">print</span>(instruct_response)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>system
You help travelers make plans for their trips.
user
Hello
assistant
Hi there!
user
What should I do on my upcoming trip to Paris?
assistant
Great question! On your next trip to Paris, you can start by visiting the iconic Eiffel Tower and the Louvre Museum. Don't miss exploring the Notre-Dame Cathedral and its stunning stained glass windows. For a bit of a break, consider visiting Montmartre for some beautiful art and architecture. If you're looking for something more adventurous, you could take a stroll through the charming streets of Montmartre or explore the vibrant nightlife of Le Marais. Have fun planning your trip to Paris!</code></pre>
</div>
</div>
</div>
</section></section>
<section id="demo" class="title-slide slide level1 center">
<h1>Demo</h1>
<p>Base vs.&nbsp;Instruction-Tuned Model notebook in Colab</p>
</section>

<section id="hands-on" class="title-slide slide level1 center">
<h1>Hands-On</h1>
<p>Experiment with your own phrases in the instruction-tuned.ipynb notebook</p>
</section>

<section>
<section id="model-evolution" class="title-slide slide level1 center">
<h1>Model Evolution</h1>

</section>
<section id="model-evolution-gpt-3.5-onwards" class="slide level2">
<h2>Model Evolution (GPT 3.5 onwards)</h2>
<div class="cell" data-reveal="true" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">timeline
    Nov 2022 : ChatGPT Launch
                  : Built on GPT-3.5 using RLHF
                  : 1M+ users in 5 days
                  : Sparked widespread interest in generative AI

    Feb 2023 : Llama 1 Released
                  : Meta's LLaMA (7B, 13B, 33B, 65B parameters)
                  : 13B model exceeded GPT-3 (175B) on most benchmarks
                  : Limited researcher access
                  : Text completion only (Alpaca fine-tune added instructions)

    Jul 2023 : Llama 2 Released
              : Available in 7B, 13B, 70B sizes
              : Trained on 40% more data than Llama 1
              : First open-weights Llama for commercial use
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="closed-vs.-open-models" class="slide level2">
<h2>Closed vs.&nbsp;Open Models</h2>
<ul>
<li class="fragment"><strong>Closed Source:</strong>
<ul>
<li class="fragment">Hosted models</li>
<li class="fragment">No ability to inspect the weights of the models</li>
<li class="fragment">No ability to download the models</li>
<li class="fragment">OpenAI GPT-5, Claude Sonnet 4.5, Google’s Gemini</li>
<li class="fragment">Very large models; often referred to as <strong>foundational</strong> models or <strong>frontier</strong> models</li>
</ul></li>
</ul>
</section>
<section id="closed-vs.-open-models-1" class="slide level2">
<h2>Closed vs.&nbsp;Open Models</h2>
<ul>
<li class="fragment"><strong>Open Weight:</strong>
<ul>
<li class="fragment">Downloadable model files</li>
<li class="fragment">You can download the model files with pretrained weights, but no training data</li>
<li class="fragment">No training data == No ability to recreate the model from scratch</li>
<li class="fragment">Meta’s Llama, Google’s Gemma, Alibaba’s Qwen, OpenAI gpt-oss-120b</li>
<li class="fragment">Range from small to medium in size (1Gb - 500Gb+)</li>
</ul></li>
</ul>
</section>
<section id="closed-vs.-open-models-2" class="slide level2">
<h2>Closed vs.&nbsp;Open Models</h2>
<ul>
<li class="fragment"><strong>Open Source:</strong>
<ul>
<li class="fragment">Models with access to the training data set</li>
<li class="fragment">You can download the model files with pretrained weights <strong>and</strong> the training data used to train it</li>
<li class="fragment">i.e., you could create the model from scratch</li>
<li class="fragment">Examples: AI2’s OLMo</li>
</ul></li>
</ul>
</section>
<section id="accessing-closed-models" class="slide level2">
<h2>Accessing Closed Models</h2>
<ul>
<li class="fragment">Consumer Website / App
<ul>
<li class="fragment">e.g., ChatGPT website or AppStore App</li>
<li class="fragment">Limited free tier; monthly subscription for more usage</li>
</ul></li>
<li class="fragment">API Access
<ul>
<li class="fragment">OpenAI’s API Platform; Create a developer account</li>
<li class="fragment">Credit card required</li>
<li class="fragment">Charged for tokens sent to the model and tokens returned from the model</li>
<li class="fragment">GPT 5.2 Chat = $1.75 per million tokens input; $14 per million tokens output</li>
</ul></li>
</ul>
</section>
<section id="accessing-open-models" class="slide level2">
<h2>Accessing Open Models</h2>
<ul>
<li class="fragment">Download and run on your own hardware
<ul>
<li class="fragment">Or download them and run them on Colab, as we’ve been doing in our demos</li>
<li class="fragment">(We’ll be covering this later on in the course)</li>
</ul></li>
<li class="fragment">Also access them (via an API), hosted on someone else’s hardware</li>
</ul>
</section></section>
<section>
<section id="openai-api-specification" class="title-slide slide level1 center">
<h1>OpenAI API Specification</h1>

</section>
<section id="openai-api-specification-1" class="slide level2">
<h2>OpenAI API Specification</h2>
</section></section>
<section>
<section id="looking-ahead-to-next-week" class="title-slide slide level1 center">
<h1>Looking Ahead to Next Week</h1>

</section>
<section id="looking-ahead-to-next-week-1" class="slide level2">
<h2>Looking Ahead to Next Week</h2>
<ul>
<li class="fragment"><a href="https://simonguest.github.io/CS-394/src/02/assignment.html" class="external" target="_blank">This week’s assignment!</a></li>
<li class="fragment">TBD</li>
</ul>
</section></section>
<section>
<section id="references" class="title-slide slide level1 center">
<h1>References</h1>

</section>
<section id="references-1" class="slide level2">
<h2>References</h2>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../../theme/logos/DigiPen_RGB_Red.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.15,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/simonguest\.github\.io\/CS-394\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>